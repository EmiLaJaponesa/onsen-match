/* Mobile-First Optimizations */

/* Touch device optimizations */
.touch-device {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

/* Enhanced touch feedback for interactive elements */
.touch-device [class*="Card"]:active,
.touch-device [class*="Button"]:active,
.touch-device button:active,
.touch-device a:active {
  transform: scale(0.98);
  transition: transform 0.1s ease-out;
}

/* モバイルタッチ最適化 */
@media (max-width: 768px) {
  /* タップ領域の拡大（ラジオボタンは除外） */
  button:not(.radio-button), 
  a:not(.radio-button), 
  input[type="file"], 
  label[for]:not(.radio-label) {
    min-height: 44px;
    min-width: 44px;
  }

  /* ラジオボタンは例外 */
  input[type="radio"],
  .radio-button {
    min-height: unset !important;
    min-width: unset !important;
  }

  /* スクロールの慣性（iOS向け） */
  * {
    -webkit-overflow-scrolling: touch;
  }

  /* タップハイライト無効化（独自のフィードバックを使用） */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* フォーカス時のズーム防止（iOSの自動ズーム防止） */
  input, textarea, select {
    font-size: 16px;
  }

  /* 小さいテキストは例外 */
  .text-xs {
    font-size: 0.75rem; /* 12px */
  }

  .text-sm {
    font-size: 0.875rem; /* 14px */
  }
}

/* タッチデバイス向けホバー無効化 */
@media (hover: none) and (pointer: coarse) {
  .hover\:shadow-lg:hover {
    box-shadow: var(--shadow-soft, 0 1px 3px 0 rgb(0 0 0 / 0.1));
  }

  /* カードのホバーエフェクトを軽減 */
  .hover\:shadow-lg {
    transition: box-shadow 0.2s ease;
  }
}

/* touch-manipulation クラス追加（遅延なしタップ） */
.touch-manipulation {
  touch-action: manipulation;
}

/* タッチフィードバック強化（リップルエフェクト） */
.touch-feedback {
  position: relative;
  overflow: hidden;
}

.touch-feedback::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.4);
  transform: translate(-50%, -50%);
  transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
              height 0.4s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.4s ease-out;
  opacity: 0;
  pointer-events: none;
}

.touch-feedback:active::after {
  width: 300px;
  height: 300px;
  opacity: 1;
}

/* shimmer アニメーション（スケルトンローディング用） */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}
